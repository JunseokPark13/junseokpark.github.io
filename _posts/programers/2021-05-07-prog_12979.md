---
title: "[Programmers][Javascript] 기지국 설치"
author: Bandito
date: 2021-05-07 18:15:00 +0900
categories: [Study, Programmers]
tags: [Algorithm, Programmers, Javascript]
comment: true
---
 
# Programmers - 기지국 설치

***
### 문제 링크 : <https://programmers.co.kr/learn/courses/30/lessons/12979>

***

<br/>

## 문제
***

N개의 아파트가 일렬로 쭉 늘어서 있습니다. 이 중에서 일부 아파트 옥상에는 4g 기지국이 설치되어 있습니다. 기술이 발전해 5g 수요가 높아져 4g 기지국을 5g 기지국으로 바꾸려 합니다. 그런데 5g 기지국은 4g 기지국보다 전달 범위가 좁아, 4g 기지국을 5g 기지국으로 바꾸면 어떤 아파트에는 전파가 도달하지 않습니다.

예를 들어 11개의 아파트가 쭉 늘어서 있고, [4, 11] 번째 아파트 옥상에는 4g 기지국이 설치되어 있습니다. 만약 이 4g 기지국이 전파 도달 거리가 1인 5g 기지국으로 바뀔 경우 모든 아파트에 전파를 전달할 수 없습니다. (전파의 도달 거리가 W일 땐, 기지국이 설치된 아파트를 기준으로 전파를 양쪽으로 W만큼 전달할 수 있습니다.)

+ 초기에, 1, 2, 6, 7, 8, 9번째 아파트에는 전파가 전달되지 않습니다.


![station1](https://drive.google.com/uc?export=view&id=1N0nNZtLEEfsgJM4zdcJISrwdA_uuaYMi)


+ 1, 7, 9번째 아파트 옥상에 기지국을 설치할 경우, 모든 아파트에 전파를 전달할 수 있습니다.


![station2](https://drive.google.com/uc?export=view&id=1rd1NvTanp8UGdkKKuSaY6igwPpO7nmjj)


이때, 우리는 기지국을 최소로 설치하면서 모든 아파트에 전파를 전달하려고 합니다. 위의 예시에선 최소 3개의 아파트 옥상에 기지국을 설치해야 모든 아파트에 전파를 전달할 수 있습니다.

아파트의 개수 N, 현재 기지국이 설치된 아파트의 번호가 담긴 1차원 배열 stations, 전파의 도달 거리 W가 매개변수로 주어질 때, 모든 아파트에 전파를 전달하기 위해 증설해야 할 기지국 개수의 최솟값을 리턴하는 solution 함수를 완성해주세요



## 제한사항

+ N: 200,000,000 이하의 자연수
+ stations의 크기: 10,000 이하의 자연수
+ stations는 오름차순으로 정렬되어 있고, 배열에 담긴 수는 N보다 같거나 작은 자연수입니다.
+ W: 10,000 이하의 자연수


<br/>

## 입출력 예제

|n|stations|W|answer|
|----|----|----|----|
|11|[4, 11]|1|3|
|16|[9]|2|3|




## 내 풀이
***

처음으로 풀었던 방법은 그냥 단순하게 기지국을 직접 설치하는 방식이었다.   

0을 제외하고 사용하기 위해 n + 1 길이의 배열을 만들고, stations 를 참고하여 현재 설치된 기지국들에 의해 영향을 받고있으면 ary[i] 를 1 증가시켜 저장해두었다.    

그 다음부터는 ary[i] 가 0 인 지역 중에서 k 에 기지국을 설치했을 때 좌, 우로 중복 없이 최대 범위만큼 영향을 줄 수 있는 위치에만 기지국을 설치하고, ary[i] 들도 갱신한다.   

마지막으로 ary 를 1 부터 순회하면서 ary[i] 가 0인 위치에 직접 기지국을 설치하였다.

여기서 추가로 설치된 기지국의 수만 반환하면 정답을 구할 수 있었지만, 당연하게도 효율성 테스트에서 발목이 잡혔다. 이젠 놀랍지도 않다....      


<br/>

### 틀린 코드

<script src="https://gist.github.com/Suppplier/1ba6fef10f769b08d15318d4af80b375.js"></script>

<br/>



위의 코드도 최초 버전에 비하면 굉장히 많이 단순화된 상태이다. 아무래도 이렇게 반복문을 많이 써서는 풀 수 없는 문제같았다.   

질문 게시판을 가 보니 이 문제는 단순 계산으로 풀 수 있는 문제라는 것을 알게되었다.

하나의 기지국이 최대로 영향을 미칠 수 있는 거리는 자기 자신이 놓인 건물과 양 옆으로 w 만큼 이므로 2 * w + 1 이다.    

처음 주어진 기지국들이 영향을 미치는 범위를 제외하고 남은, 기지국의 영향이 전혀 없는 공간들만 생각해보자    


![lenis6](https://drive.google.com/uc?export=view&id=1axKI5BqJjJ63WDd-OLaDiGSKoCQ081Yu)

w 가 1이라면 기지국이 영향을 미칠 수 있는 거리는 3이다.    
len 이 6 이라면 단순히 기지국을 2개 설치하면 된다.    


![lenis8](https://drive.google.com/uc?export=view&id=1axKI5BqJjJ63WDd-OLaDiGSKoCQ081Yu)

len 이 w 로 딱 나눠떨어지지 않는다 하더라도, 가장 영향력을 많이 펼칠 수 있는 위치에 기지국을 설치 하고 나머지 공간에는 하나의 기지국만 더 설치하면 해결된다.    

그러므로 우리는 기지국이 없어서 영향을 받지 않는 각 공간들의 길이 len 을 구하고, 이 len 을 2 * w + 1 로 나눈 값을 올림하면 해당 공간에 설치해야하는 최소 기지국 수를 알 수 있게 된다.    


1. current_start 는 현재 거리를 측정하기 시작할 위치, current_end 는 현재 거리 측정을 마무리할 위치를 저장하고, next_start 는 다음번 거리를 측정하기 시작할 위치를 저장해둔다.
2. stations 를 순회하는 반복문을 돌린다.
    1. current_start 에는 이전 반복문에서 구해진 next_start 를 넣는다.
    2. current_end 는 기지국이 설치된 위치인 stations[i] 이 영향을 미치는 범위 중 가장 왼쪽의 위치를 담는다. 1 부터 n 사이로 거리를 측정하므로 1 보다 작아지지 않게 한다.
    3. next_start 는 영향 범위 중 가장 오른쪽 위치를 담는다. 마찬가지로 n 보다 커지지 않도록 한다.
    4. current_end 와 current_start 사이의 값을 구하여 2 * w + 1 로 나눈 뒤 올림한 값을 answer 에 더한다.
3. 마지막으로 저장된 next_start 가 n 이 아니라면 아직 가장 오른쪽에서 구해진 빈 영역을 계산하지 않았다는 뜻이다. 이 또한 계산하여 answer 에 더해준다.    


<br/>

### 맞은 코드

<script src="https://gist.github.com/Suppplier/f16b5397dcc9b4e2e7e19bdfe5179a04.js"></script>

<br/>


## 소감
***

난이도가 높아질수록 기본적인 수학 계산을 요구하는 문제들이 늘어나는 것 같다. 만약 이게 코딩 문제가 아니라 단순 수학 문제집에서 나온 문제였다면 더 접근 방식을 빠르게 찾을 수 있지 않았을까.    

다음 코딩 테스트까지 2일정도 남았다. 현재 다른 활동을 하고 있는 것이 있어서 코딩테스트 준비에 많은 시간을 투자하지 못한 것이 많이 아쉽다.    

하지만 지금 실력을 본다면.. 한 문제를 푸는데에 걸리는 시간이나 해결 능력이 너무 처참해서 오히려 다행일지도....

